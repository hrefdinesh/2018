<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="IPL Predictor 2018">
    <meta name="author" content="">
    <title>IPL Predictor 2018</title>
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/font-awesome.min.css" rel="stylesheet">
    <link href="css/animate.min.css" rel="stylesheet"> 
    <link href="css/lightbox.css" rel="stylesheet"> 
	<link href="css/main.css" rel="stylesheet">
	<link href="css/responsive.css" rel="stylesheet">
	<link rel="stylesheet" href="css/jquery-ui.min.css">
    <!--[if lt IE 9]>
	    <script src="js/html5shiv.js"></script>
	    <script src="js/respond.min.js"></script>
    <![endif]-->       
    <link rel="shortcut icon" href="images/ico/favicon.ico">
</head><!--/head-->

<body id="home">
	<div class="home-banner">
		<header id="header">              
	        <div class="navbar navbar-inverse" role="banner">
	            <div class="container">
	                <div class="navbar-header">
	                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
	                        <span class="sr-only">Toggle navigation</span>
	                        <span class="icon-bar"></span>
	                        <span class="icon-bar"></span>
	                        <span class="icon-bar"></span>
	                    </button>

	                    <a class="navbar-brand" href="index.html">
	                    	<h1><img src="images/logo.png" alt="logo"></h1>
	                    </a>
	                    
	                </div>
	                <div class="collapse navbar-collapse">
	                    <ul class="nav navbar-nav navbar-right">
	                    	<li><a href="#home">Home</a></li>
	                        <li><a href="#predictor">Predictor</a></li>
	                        <li><a href="#action">Fantacy Leauge</a></li>                                       
	                    </ul>
	                </div>
	            </div>
	        </div>
	    </header>
	    <!--/#header-->

	    <section id="home-slider">
	        <div class="container">
	            <div class="row">
	                <div class="main-slider">
	                    <div class="slide-text">
	                        <h1>Become a Game Predictor</h1>
	                        <p>Choose you favorite team and know how the IPL playoff round will be..</p>
	                        <a href="#" class="btn btn-white">Predict Now</a>
	                    </div>
	                    <img src="images/home/slider/cricketer.png" class="slider-hill" alt="slider image">
	                </div>
	            </div>
	        </div>
	        <div class="preloader"><i class="fa fa-sun-o fa-spin"></i></div>
	    </section>
	    <!--/#home-slider-->
	</div>

    <section id="predictor">
        <div class="container">
            <div class="row">
        		<div class="col-sm-12">
        			<div class="match-predictor">
        				<div class="text-center">
	        				<h1 class="leauge_head">Predict Now</h1>
	        				<br>
        				</div>
						<div class="row">
							<div class="col-sm-6">
								<p class="draginfo">Drag and drop the team and choose 4 team for playoff round.</p>
							    <div id="leauge_list" class="row league row-sm connect_lists">
							    </div>
							</div>
							<div class="col-sm-6">
								<div class="row row-sm">
									<div class="col-sm-3">
										<div class="leauge_position">
											<img src="images/position.png" alt="">
											<span>1</span>											
										</div>
									    <div id="drop_list1" class="position_list connect_lists">

									    </div>										
									</div>
									<div class="col-sm-3">
										<div class="leauge_position">
											<img src="images/position.png" alt="">
											<span>2</span>											
										</div>
									    <div id="drop_list2" class="position_list connect_lists">								        
									    </div>
								    </div>
									<div class="col-sm-3">
										<div class="leauge_position">
											<img src="images/position.png" alt="">
											<span>3</span>											
										</div>
									    <div id="drop_list3" class="position_list connect_lists">								        
									    </div>
								    </div>
									<div class="col-sm-3">
										<div class="leauge_position">
											<img src="images/position.png" alt="">
											<span>4</span>											
										</div>
									    <div id="drop_list4" class="position_list connect_lists">								        
									    </div>									
								    </div>				
								</div>
							</div>

						</div>

    					<div class="playoffsRounds text-center">
							<h3>Playoffs</h3>        						
	        				<div class="row">
	        					<div class="col-sm-4">
				        			<h4>Qualifier 1</h4>
				        			<div class="qualifier1"></div>
	        					</div>
	        					<div class="col-sm-4">
				        			<h4>Eliminator</h4>
	        					</div>
	        					<div class="col-sm-4">
				        			<h4>Qualifier 2</h4>
	        					</div>
	        					<div class="col-sm-12">
									<div class="unlist semi-finals"></div>
								</div>
	        				</div>
    					</div>
					</div>
        		</div>
            </div>
        </div>
    </section>
    <!--/#services-->

    <section id="action" class="responsive">
        <div class="vertical-center">
             <div class="container">
                <div class="row">
                    <div class="action take-tour">
                        <div class="col-sm-7 wow fadeInLeft" data-wow-duration="500ms" data-wow-delay="300ms">
                            <h1 class="title">Fantacy Leauge</h1>
                            <p>Donâ€™t just watch IPL.. Play it! </p>   
                        </div>
                        <div class="col-sm-5 text-center wow fadeInRight" data-wow-duration="500ms" data-wow-delay="300ms">
                            <div class="tour-button">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
   </section>
    <!--/#action-->



    <section id="fantacyLeauge">
        <div class="container">
            <div class="row">
                <div class="col-sm-12">
                    <div class="clients text-center wow fadeInUp" data-wow-duration="500ms" data-wow-delay="300ms">
                    	<br>
                        <p><img src="images/home/clients.png" class="img-responsive" alt=""></p>
                        <a href="https://fantasy.iplt20.com/" target="_blank" class="btn btn-block-md btn-submit">Play Fantacy</a>
                    </div>
                </div>
            </div>
        </div>
     </section>
    <!--/#clients-->

    <footer id="footer">
        <div class="container">
            <div class="row">
                <div class="col-sm-12">                	
	                <div class="col-sm-12 text-center bottom-separator">
	                    <img src="images/home/footer.png" class="img-responsive inline" alt="">
	                </div>
                    <div class="copyright-text text-center">
                        <p>&copy; IPL Predictor 2018. All Rights Reserved.</p>
                        <p>Crafted by <a href="javascript::void(0);">DS</a></p>
                    </div>
                </div>
            </div>
        </div>
    </footer>
    <!--/#footer-->

    <script type="text/javascript" src="js/jquery.js"></script>
    <script src="js/jquery-ui.min.js"></script>
    <script type="text/javascript" src="js/bootstrap.min.js"></script>
    <script type="text/javascript" src="js/lightbox.min.js"></script>
    <script type="text/javascript" src="js/wow.min.js"></script>
    <script type="text/javascript" src="js/main.js"></script>  

    <script>
    $(function() {

    	$('#leauge_list').sortable({
	        connectWith: '.connect_lists',
	        receive: function(event, ui) {
	            var $this = $(this);
	            if ($this.children('div').length > 1 && $this.attr('id') != "leauge_list") {
	                console.log('Only one per list!');
	                $(ui.sender).sortable('cancel');
	            }
	        }
	    });


    	var result = [];

	    $('.position_list').sortable({
	        connectWith: '.connect_lists',
	        update: function(e, ui) {
	            var idsInOrder = $(".league").sortable("toArray");
	            
	            // (typeof $("#drop_list1").find(".teamid").attr("id") != 'undefined') ?  result[0]  = $("#drop_list1").find(".teamid").attr("id") : '';
	            // (typeof $("#drop_list2").find(".teamid").attr("id") != 'undefined') ?  result[1]  = $("#drop_list2").find(".teamid").attr("id") : '';
	            // (typeof $("#drop_list3").find(".teamid").attr("id") != 'undefined') ?  result[2]  = $("#drop_list3").find(".teamid").attr("id") : '';
	            // (typeof $("#drop_list4").find(".teamid").attr("id") != 'undefined') ?  result[3]  = $("#drop_list4").find(".teamid").attr("id") : '';
	           	result[0] =  $("#drop_list1").find(".teamid").attr("id");
	            result[1] =  $("#drop_list2").find(".teamid").attr("id");
	            result[2] =  $("#drop_list3").find(".teamid").attr("id");
	            result[3] =  $("#drop_list4").find(".teamid").attr("id");
	           
	            console.log("Position="+result);
	            // idsInOrder = idsInOrder.slice(0,4);
	            drawSemiMatches(result);
	        },
	        receive: function(event, ui) {
	            var $this = $(this);
	            if ($this.children('div').length > 1 && $this.attr('id') != "leauge_list") {
	                console.log('Only one per list!');
	                $(ui.sender).sortable('cancel');
	            }
	        }
	    });
    	

        var simulatedWinner = '';
        var shareBucket = "teams/";        
        var imgBucket = "images/icons_bg/";
        var imgBucketbg = "images/icons_bg/";
        var winnersBucket = "teams/";
        var jsonBucket = "data/";



        //  Team Sortable 
        // $(".league").sortable({
        //     start: function(e, ui) {
        //         // creates a temporary attribute on the element with the old index
        //         $(this).attr('data-previndex', ui.item.index());
        //     },
        //     update: function(e, ui) {
        //         var idsInOrder = $(".league").sortable("toArray");  
               
        //         idsInOrder = idsInOrder.slice(0,4);

          
        //         drawSemiMatches(idsInOrder);
        //     }
        // });

        function drawSemiMatches(idsInOrder) {
         
            var qualifier1 = $('.qualifier1');  
            $('.qualifier1 *').remove();




            $.each(idsInOrder, function(index, vale) {
            	console.log("sss="+ typeof vale);
            	if(typeof vale == 'undefined'){
            		return false;
            	}
            });
            	
            $.each(idsInOrder, function(index, vale) {
                $.each(groupsArray, function(index, team) {

                    if(vale == team.teamid) {
                        console.log(team.displayName)
                        var li = "<li>";
                        li += "<div class='team-name'>"+ team.displayName +"</div>";
                        li += "</li>";
                        qualifier1.append ( li );
                    } 
                });            		            	
            });
          


        };
        
        $("#sortable").disableSelection();



        var groupsArray;
        $.get ( "data/data.json", function ( data ) {
            groupsArray = data.Teams.slice ();
            populateParticle ( groupsArray );                
        });



        function populateParticle ( data ) {  
            var i = 1;
            $.each(data, function(index, team) {
                
                var groupParent = $('.league');  
                var li = "<div class='col-sm-3 text-center teamid' id='"+team.teamid+"'><div class='notice drag-div'>";
                li += "<div class='team-img'><img src='"+imgBucket+""+team.displayName.toLowerCase()+".png' alt=''></div>";
                li += "<div class='text-left team-name bg "+team.displayName.toLowerCase()+"'>"+ team.displayName+"</div>";
                li += "</div></div>";
                groupParent.append ( li );
                i++;
            });
        }

    });
    </script> 
</body>
</html>
